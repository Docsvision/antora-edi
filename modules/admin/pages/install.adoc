= Установка и настройка

[#package]
== Состав установочного комплекта

. Пакет установки серверной части модуля: `EDIIntegrationServer.msi`.
. Пакет установки клиентской части модуля: `EDIIntegrationClient.msi`.

.Обратите внимание
****
Модуль поддерживает работу через {wc}. Для работы через интерфейс {wc}а требуется установить _Компоненты {of-em}_ в модуле {wc} версии {wc-req} или выше.
****

[#quick]
== Краткая справка по установке

. <<server,Установите>> серверную часть модуля _{em}_ согласно инструкции ниже.
. <<client,Установите>> клиентскую часть модуля _{em}_ по следующей инструкции.
. <<web,Установите>> серверную и клиентскую части модуля _{wc}_ версии {wc-req} или выше.
+
****
При установке не забудьте включить _Компоненты модуля интеграции с операторами ЭДО_.

Компоненты модуля можно установить из режима инсталлятора _Изменитьfootnote:[Выбор режима доступен при повторном запуске инсталлятора]_.
****

[#server]
== Установка серверной части модуля

Серверная часть модуля _{em}_ устанавливается на компьютер с сервером {dv}, а также *на все компьютеры* с отдельной установкой СУБП (модуль _Управление процессами_), на которых обрабатываются БП данного сервера {dv}.

Установка должна выполняться от имени пользователя, являющегося локальным администратором и администратором {dv}.

[NOTE]
====
Администратор {dv} -- пользователь, включенный в группу безопасности *{dv-admins-serv}* на компьютере с сервером {dv}.
====

. Запустите пакет установки `EDIIntegrationServer.msi`.
+
.Мастер установки серверной части модуля
image::install-server-hello.png[Мастер установки серверной части модуля]
+
. Примите условия лицензионного соглашения для продолжения установки. Нажмите *Далее*.
+
.Условия лицензионного соглашения
image::install-server-license.png[Условия лицензионного соглашения]
+
. В следующем окне нажмите *Установить* и дождитесь завершения установки модуля.
. Выберите базы данных {dv}, в которые будет установлен модуль, и нажмите *OK*. В процессе загрузки также будет предложено перезагрузить сервисы {dv}. Согласитесь с перезагрузкой сервисов.
+
.Окно выбора БД {dv} для установки загружаемых компонентов модуля
image::install-server-db.png[Окно выбора БД {dv} для установки загружаемых компонентов модуля]
+
. Нажмите на кнопку *Готово*, чтобы закрыть мастер установки.

[#client]
== Установка клиентской части модуля

Клиентская часть модуля должна быть установлена на компьютеры пользователей {dv}, работающих в {wincl}е. Если {wincl} установлен для всех пользователей, то клиентский компонент модуля также должен быть установлен для всех пользователей.

Клиентская часть будет автоматически установлена при запуске {wincl}а, а также может быть установлена вручную.

.Чтобы установить клиентскую часть модуля "{em}" вручную:
. Запустите пакет установки:
+
* `EDIIntegrationClient.msi`, чтобы установить модуль с областью установки _Для текущего пользователя_.
* `msiexec /i "EDIIntegrationClient.msi" ALLUSERS=1`, чтобы установить модуль с областью установки _Для всех пользователей_. Для данного варианта установки требуются административные права.
+
Будет открыт мастер установки.
+
.Мастер установки клиентской части "{of-em}"
image::install-client-hello.png[Мастер установки клиентской части "{of-em}"]
+
. Примите условия лицензионного соглашения для продолжения установки.
+
.Условия лицензионного соглашения
image::install-client-license.png[Условия лицензионного соглашения]
+
. В следующем окне нажмите *Установить* и дождитесь завершения установки модуля.
. Нажмите на кнопку *Готово*, чтобы закрыть мастер установки.
. Установите коннекторы, подробнее см. <<connectors,ниже>>.

[#connectors]
== Установка коннекторов

.{dv} {em} поддерживает работу со следующими коннекторами:
* Коннектор к Диадок, руководство по установке см. в разделе "xref:diadoc:install.adoc[]"
// * Коннектор к СБИС, руководство по установке см. в разделе "xref:sbis:install.adoc[]"
* {txc}, руководство по установке см. в разделе "xref:taxcom:install.adoc[]"

[#web]
== Установка {wc}а

Установите серверную и клиентскую часть модуля {wc} версии {wc-req} стандартным образом, не забыв добавить _Компоненты модуля интеграции с операторами ЭДО_ на шаге выбора компонентов.

.Установите "Компоненты модуля интеграции с операторами ЭДО"
image::webc-components.png[Установите "Компоненты модуля интеграции с операторами ЭДО"]

_Компоненты модуля интеграции с операторами ЭДО_ доступны для выбора только если ранее был установлен модуль _{em}_, поддерживающий работу в {wc}. Если порядок установки модулей был нарушен, компоненты можно добавить, повторно запустив инсталлятор и выбрав команду _Изменить_.

Если {wc} установлен на отдельной машине, для работы с модулем {em} через web-интерфейс, на машину с {wc}ом потребуется установить серверную часть:

* Используемого <<connectors,коннектора>>.
* <<server,{of-em}>>

[#uninstall]
== Удаление модуля

. Остановите и удалите из {dv} бизнес-процессы БП _Отправка сообщений ЮЗДО_ и БП _Получение сообщений ЮЗДО_ подробнее см. xref:ROOT:module-structure.adoc[Сведения о структуре модуля].
. Удалите:
* Клиентский компонент модуля: _{em}_. Клиент.
* Серверный компонент модуля: _{em}_. Сервер
+
При удалении серверной части модуля будет предложено выбрать БД {dv}, из которой будут удалены компоненты модуля.
